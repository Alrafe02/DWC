<html>
    <head>
        <title>3</title>
        <meta charset="UTF-8">
    </head>
    <body>

        
        <script>
            var ciudad = [
                {nombre : "Madrid", poblacion: 3334730},
                {nombre : "Barcelona", poblacion: 1664182},
                {nombre : "Valencia", poblacion: 800215},
                {nombre : "Sevilla", poblacion: 691395},
                {nombre : "Zaragoza", poblacion: 681877},
                {nombre : "Málaga", poblacion: 578460},
                {nombre : "Murcia", poblacion: 459403},
                {nombre : "Palma de Mallorca", poblacion: 422587},
                {nombre : "Las Palmas de Gran Canaria", poblacion: 381223},
                {nombre : "Bilbao", poblacion: 350184}
            ]
            



            lista = item => {
                function prueba(item) {
                    return [item.nombre,item.poblacion].join(" - ") + "<p>"
                }
                document.getElementById("lista").innerHTML = ciudad.map(prueba)
            }
            listaCiudades = x => {
                function prueba(item) {
                    return item.nombre + "<p>"
                }
                var cantidad = 0;
                for(x = 0; x < ciudad.length; x++) {
                    document.getElementById("lista2_1").innerHTML = ciudad.map(prueba)
                    cantidad++;
                }
                document.getElementById("lista2_2").innerHTML = "Total: " + cantidad;
            }
            borrar = item => {
                var borrarNombre = document.getElementById("nombreBorrar").value;
                for(var x = 0; x < ciudad.length; x++) {
                    if(ciudad[x].nombre == borrarNombre ) {
                        ciudad.splice(x, 1);
                    }
                    
                }
            }
            nuevaCiudad = item => {
                var nombreCiudad = document.getElementById("nombreAñadir").value
                var habitantesCiudad = document.getElementById("poblacionAñadir").value
                ciudad.push({nombre: nombreCiudad, poblacion: habitantesCiudad})
            }
            masHabitantes = x => {
                var masPoblacion = 0;
                for(x = 0; x < ciudad.length; x++) {
                    
                    if( parseInt(ciudad[x].poblacion) > masPoblacion ){
                        masPoblacion = ciudad[x].poblacion
                        var masPoblacionNombre = ciudad[x].nombre
                    }
                    

                }
                document.getElementById("lista2_3").innerHTML =  "La ciudad con mas población es: " + masPoblacionNombre + " con " + masPoblacion + " habitantes en total"
            }
            menosHabitantes = x => {
                var menosPoblacion = Number.MAX_VALUE;
                for(x = 0; x < ciudad.length; x++) {
                    
                    if( parseInt(ciudad[x].poblacion) < menosPoblacion ){
                        menosPoblacion = ciudad[x].poblacion
                        var menosPoblacionNombre = ciudad[x].nombre
                    }
                    

                }
                document.getElementById("lista2_4").innerHTML =  "La ciudad con menos población es: " + menosPoblacionNombre + " con " + menosPoblacion + " habitantes en total"
            }

        </script>
        <table>
            <tr>
                <td>
                    <button id="1" onclick="lista();"> El usuario puede ver todas las ciudades y sus habitantes </button>
                </td>
                <td>
                    <button id="2" onclick="listaCiudades();"> El usuario puede saber cuantas ciudades existen </button>
                </td>
                <td>
                    <button id="3" onclick="borrar();"> Borrar ciudad </button>
                </td>
                <td>
                    <button id="4" onclick="nuevaCiudad();"> Añadir ciudad y habitantes </button>
                </td>
                <td>
                    <button id="5" onclick="masHabitantes();"> Si el usuario solicita saber la ciudad de mas habitantes que se muestre en un color rojo el tipo de
                        letra
                         </button>
                </td>
                <td>
                    <button id="6" onclick="menosHabitantes();"> Si el usuario solicita la ciudad de menos habitantes que se muestre en color verde. </button>
                </td>
            </tr>
            <tr>
                <td><p id="lista"></p></td>
                <td><p id="lista2_1"></p><p id="lista2_2"></p></td>
                <td style=>
                    <table>
                    <tr>
                    <td>Nombre: </td>
                    <td><input type="text" id="nombreBorrar" style="width: 75px;"></td>
                    </tr>
                </table>
            </td>
                <td>
                        <table>
                        <tr>
                        <td>Nombre: </td>
                        <td><input type="text" id="nombreAñadir" style="width: 75px;"></td>
                        </tr>
                        <tr>
                        <td>Poblacion: </td>
                        <td><input type="number" id="poblacionAñadir" style="width: 75px;"></td>
                        </tr>
                    </table>
                </td>
                <td><p id = "lista2_3" style="color:red"></p></td>
                <td><p id = "lista2_4" style="color:green"></p></td>
            </tr>
        </table>
        
        
    </body>
</html>